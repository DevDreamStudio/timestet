import{r as g,o as a,b as r,e,w as y,t as d,f as n,g as v,J as x,K as H,X as V,c as M,i as b,A as D,B as $,C as A,k as l,l as L,T as k,m,F as B,G as P,E as T}from"./index-c0c8fa2e.js";import{P as z}from"./ProMed-470ac910.js";const E={key:0,"data-aos":"fade-down",class:"article__top"},F=e("h3",{class:"article__top-title"},"статья",-1),N={class:"article__top-wrapper"},R={class:"article__top-wrapper-img"},S=["alt"],Z={class:"article__top-wrapper-info"},O={class:"article__top-wrapper-info-title"},Y={class:"article__top-wrapper-info-category"},j={class:"article__top-wrapper-info-category-title"},G={class:"article__top-wrapper-info-category-date"},J={__name:"ArticleTop",props:{articleData:{type:Object}},setup(t){return(c,s)=>{const o=g("lazy");return t.articleData?(a(),r("div",E,[F,e("div",N,[e("div",R,[y(e("img",{alt:t.articleData.title},null,8,S),[[o,t.articleData.image]])]),e("div",Z,[e("h4",O,d(t.articleData.title),1),e("div",Y,[e("span",j,d(t.articleData.tags[0]),1),e("span",G,d(new Date(t.articleData.created_at).toLocaleDateString()),1)])])])])):n("",!0)}}},K={key:0,class:"article__body"},U={class:"article__body-wrapper"},X={"data-aos":"fade-down",class:"article__body-wrapper-inner"},q={class:"article__body-wrapper-img"},I={viewBox:"0 0 1296 421",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Q=e("defs",null,[e("clipPath",{id:"image-1"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M40 0C17.9086 0 0 17.9086 0 40V141V381C0 403.091 17.9086 421 40 421H666H1256C1278.09 421 1296 403.091 1296 381V141C1296 118.909 1278.09 101 1256 101H746C723.909 101 706 83.0914 706 61V40C706 17.9086 688.091 0 666 0H40Z"})])],-1),W={"clip-path":"url(#image-1)"},ee=e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M40 0C17.9086 0 0 17.9086 0 40V141V381C0 403.091 17.9086 421 40 421H666H1256C1278.09 421 1296 403.091 1296 381V141C1296 118.909 1278.09 101 1256 101H746C723.909 101 706 83.0914 706 61V40C706 17.9086 688.091 0 666 0H40Z",fill:"#A3C8F2","fill-opacity":"0.2"},null,-1),te=["href"],ae=["innerHTML"],se={"data-aos":"fade-down",class:"article__body-wrapper-inner"},oe={class:"article__body-wrapper-img"},ie={viewBox:"0 0 1296 401",fill:"none",xmlns:"http://www.w3.org/2000/svg"},le=e("defs",null,[e("clipPath",{id:"image-2"},[e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M811 0H40C17.9086 0 0 17.9086 0 40V300C0 322.091 17.9086 340 40 340H780.5C797.345 340 811 353.655 811 370.5C811 387.345 824.655 401 841.5 401H1256C1278.09 401 1296 383.091 1296 361V340V40C1296 17.9086 1278.09 0 1256 0H811Z"})])],-1),re={"clip-path":"url(#image-2)"},ce=e("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M811 0H40C17.9086 0 0 17.9086 0 40V300C0 322.091 17.9086 340 40 340H780.5C797.345 340 811 353.655 811 370.5C811 387.345 824.655 401 841.5 401H1256C1278.09 401 1296 383.091 1296 361V340V40C1296 17.9086 1278.09 0 1256 0H811Z",fill:"#A3C8F2","fill-opacity":"0.2"},null,-1),ne=["href"],de=["innerHTML"],_e={__name:"ArticleBody",props:{articleContent:{type:Array}},setup(t){return(c,s)=>t.articleContent?(a(),r("div",K,[e("div",U,[e("div",X,[e("div",q,[(a(),r("svg",I,[Q,e("g",W,[ee,e("image",{href:t.articleContent[0].image,x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"xMaxYMax slice"},null,8,te)])]))]),e("div",{class:"article__body-wrapper-text",innerHTML:t.articleContent[0].text},null,8,ae)]),e("div",se,[e("div",oe,[(a(),r("svg",ie,[le,e("g",re,[ce,e("image",{href:t.articleContent[1].image,x:"0",y:"0",width:"100%",height:"100%",preserveAspectRatio:"xMaxYMax slice"},null,8,ne)])]))]),e("div",{class:"article__body-wrapper-text",innerHTML:t.articleContent[1].text},null,8,de)])])])):n("",!0)}},pe={class:"article"},me={__name:"ArticlePage",setup(t){const c=v(!1),s=v(!1),o=()=>{c.value=window.matchMedia("(max-width: 480px)").matches},w=x(),_=H(),p=V(),f=w.params.id,u=M(()=>p.article);return b(async()=>{D.refresh(),document.body.classList.add("no-scroll"),o(),window.addEventListener("resize",o),s.value=!1;try{const i=await p.getArticle(f);i.success||_.push(i.status===404?"/404":"/error")}catch(i){console.error("Ошибка при получение статей:",i),_.push("/error")}finally{s.value=!0,document.body.classList.remove("no-scroll")}}),$(()=>{window.removeEventListener("resize",o),s.value||document.body.classList.remove("no-scroll")}),(i,ue)=>{var h;const C=A("Preloader");return a(),r(B,null,[l(k,{name:"preloader"},{default:L(()=>[s.value?n("",!0):(a(),m(C,{key:0}))]),_:1}),e("div",pe,[l(J,{articleData:u.value},null,8,["articleData"]),l(_e,{articleContent:(h=u.value)==null?void 0:h.contents},null,8,["articleContent"]),c.value?(a(),m(T,{key:0})):n("",!0),l(z),l(P)])],64)}}};export{me as default};
