import{d as x,a as C,H as B,h as P,g as _,o as i,b as a,e,k as v,l as I,F as h,j as w,m as g,p as f,S as k,q as L,t as n,I as z,f as u,s as M,P as R,r as V,w as N,n as T,J as D,K as U,c as A,i as H,A as O,B as j,C as F,T as q,D as E,L as G}from"./index-c0c8fa2e.js";import{f as J,T as K}from"./thumbs-e0832aa2.js";import{_ as Z}from"./BookingModal-bda98887.js";const Q=x("ServicePage",{state:()=>({service:null}),actions:{async getService(s){var t;try{const r=await C.get(`${B}${s}`,P);if(r.status===200||r.data)return this.service=r.data,{success:!0}}catch(r){return console.error("Ошибка в файле ServicePage",r),{success:!1,status:(t=r.response)==null?void 0:t.status}}}}});const W={key:0,"data-aos":"fade-down",class:"serviceItem__intro"},X={class:"serviceItem__intro-sliders"},Y={class:"serviceItem__intro-sliders-top"},ee={class:"serviceItem__intro-sliders-top-slider-slide-img"},se=["src"],te=e("div",{class:"swiper-lazy-preloader"},null,-1),ie=e("div",{class:"serviceItem__intro-sliders-bullets"},null,-1),re={class:"serviceItem__intro-sliders-bottom"},ce={class:"serviceItem__intro-sliders-bottom-slider-slide-img"},ae=["src"],oe=e("div",{class:"swiper-lazy-preloader"},null,-1),ne={class:"serviceItem__intro-info"},le={class:"serviceItem__intro-info-content"},de={class:"serviceItem__intro-info-content-part"},_e={class:"serviceItem__intro-info-content-title"},ve={class:"serviceItem__intro-info-content-caption"},ue={class:"serviceItem__intro-info-price"},me={class:"serviceItem__intro-info-price-cost"},he=e("span",{class:"serviceItem__intro-info-price-cost-start"}," от ",-1),pe=e("span",null,"Записаться на процедуру",-1),fe=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28"},[e("path",{d:"M20.6357 16.8975L20.627 8.07324C20.627 7.45801 20.2227 7.03613 19.5898 7.03613H10.7568C10.1592 7.03613 9.74609 7.48438 9.74609 8.01172C9.74609 8.53027 10.1943 8.96094 10.7305 8.96094H13.8857L17.6123 8.83789L16.0127 10.2441L7.67188 18.5938C7.46973 18.8047 7.35547 19.0508 7.35547 19.2969C7.35547 19.8154 7.83008 20.3076 8.36621 20.3076C8.6123 20.3076 8.8584 20.2021 9.06934 20L17.4189 11.6504L18.8428 10.0508L18.6934 13.6191V16.9238C18.6934 17.4688 19.124 17.9258 19.6602 17.9258C20.1875 17.9258 20.6357 17.4775 20.6357 16.8975Z"})],-1),Ie=[pe,fe],ge={__name:"ServiceItemIntro",props:["service"],setup(s){const t=_([J,K,M,R]),r=_(!1),m=()=>{r.value=!0,document.body.classList.add("no-scroll")},d=()=>{r.value=!1,document.body.classList.remove("no-scroll")},o=_(null),l=y=>{o.value=y},c=_({clickable:!0,el:".serviceItem__intro-sliders-bullets",renderBullet:function(y,$){return'<span class="'+$+'"></span>'}});let b=_({breakpoints:{320:{spaceBetween:16},360:{spaceBetween:16},400:{spaceBetween:40},580:{spaceBetween:60}}});return(y,$)=>(i(),a(h,null,[s.service?(i(),a("div",W,[e("div",X,[e("div",Y,[v(f(L),{pagination:c.value,loop:s.service.images.length>4,spaceBetween:10,thumbs:{swiper:o.value},modules:t.value,class:"serviceItem__intro-sliders-top-slider",lazy:!0,lazyPreloadPrevNext:1,preloadImages:"false"},{default:I(()=>[(i(!0),a(h,null,w(s.service.images,(p,S)=>(i(),g(f(k),{key:p.id,class:"serviceItem__intro-sliders-top-slider-slide"},{default:I(()=>[e("div",ee,[e("img",{loading:"lazy",src:p.image,alt:"фото услуги"},null,8,se),te])]),_:2},1024))),128))]),_:1},8,["pagination","loop","thumbs","modules"])]),ie,e("div",re,[v(f(L),{breakpoints:f(b).breakpoints,onSwiper:l,loop:s.service.images.length>4,spaceBetween:79,slidesPerView:"auto",modules:t.value,class:"serviceItem__intro-sliders-bottom-slider",lazy:!0,lazyPreloadPrevNext:1,preloadImages:"false"},{default:I(()=>[(i(!0),a(h,null,w(s.service.images,(p,S)=>(i(),g(f(k),{key:p.id,class:"serviceItem__intro-sliders-bottom-slider-slide"},{default:I(()=>[e("div",ce,[e("img",{loading:"lazy",src:p.image,alt:"фото услуги"},null,8,ae),oe])]),_:2},1024))),128))]),_:1},8,["breakpoints","loop","modules"])])]),e("div",ne,[e("div",le,[e("span",de,n(s.service.for_what),1),e("h3",_e,n(s.service.title),1),e("p",ve,n(s.service.short_desc),1)]),e("div",ue,[e("span",me,[he,z(" "+n(s.service.price)+" Р ",1)]),e("button",{onClick:m,class:"serviceItem__intro-info-price-btn"},Ie)])])])):u("",!0),r.value?(i(),g(Z,{key:1,onCloseModalRewiev:d})):u("",!0)],64))}},we={key:0,"data-aos":"fade-down",class:"serviceItem__main"},be={key:0,class:"serviceItem__main-text"},ye=e("h2",{class:"serviceItem__main-text-title"},"описание",-1),$e={class:"serviceItem__main-text-subtitle"},ke={key:1,"data-aos":"fade-down",class:"serviceItem__main-features"},Le=e("h3",{class:"serviceItem__main-features-title"},"характеристики",-1),Se={class:"serviceItem__main-features-cards"},xe={class:"serviceItem__main-features-cards-card-img"},Ce={alt:"иконка характеристики"},Be={class:"serviceItem__main-features-cards-card-caption"},Pe={class:"serviceItem__main-features-cards-card-time"},ze={class:"serviceItem__main__prices"},Me=e("h3",{class:"serviceItem__main__prices-title"},"стоимость процедуры",-1),Re={class:"serviceItem__main__prices-inner"},Ve={class:"serviceItem__main__prices-inner-item-title"},Ne={class:"serviceItem__main__prices-inner-item-price"},Te={key:0,class:"serviceItem__main__prices-inner-btn"},De=e("svg",{width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("g",{id:"chevron-down"},[e("path",{id:"Icon",d:"M16.8 10.0999L12 14.8999L7.2 10.0999",stroke:"#848484","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1),Ue=[De],Ae={__name:"ServiceItemMain",props:["service"],setup(s){const t=_(!1),r={"Длительность процедуры":new URL("/timestet/assets/watch-55bdc5d1.svg",self.location).href,"Длительность эффекта":new URL("/timestet/assets/effect-1d3d8b6f.svg",self.location).href,"Рекомендованный курс":new URL("/timestet/assets/time-44665295.svg",self.location).href,"Реабилитационный период":new URL("/timestet/assets/period-52c4d77a.svg",self.location).href},m=d=>r[d]||"";return(d,o)=>{const l=V("lazy");return s.service?(i(),a("div",we,[s.service.desc?(i(),a("div",be,[ye,e("p",$e,n(s.service.desc),1)])):u("",!0),s.service&&s.service.characteristics?(i(),a("div",ke,[Le,e("div",Se,[(i(!0),a(h,null,w(s.service.characteristics,c=>(i(),a("div",{key:c.title,class:"serviceItem__main-features-cards-card"},[e("div",xe,[N(e("img",Ce,null,512),[[l,m(c.title)]])]),e("span",Be,n(c.title),1),e("span",Pe,n(c.value),1)]))),128))])])):u("",!0),e("div",ze,[Me,e("div",Re,[(i(!0),a(h,null,w(t.value?s.service.procedure_costs:s.service.procedure_costs.slice(0,5),c=>(i(),a("div",{key:c.title,class:"serviceItem__main__prices-inner-item"},[e("h4",Ve,n(c.title),1),e("span",Ne,n(c.price)+" ₽ ",1)]))),128)),s.service.procedure_costs.length>5?(i(),a("div",Te,[e("button",{onClick:o[0]||(o[0]=c=>t.value=!t.value),class:"serviceItem__main__prices-inner-btn-text"},n(t.value?"скрыть":"посмотреть еще"),1),e("button",{class:T([{active:t.value},"serviceItem__main__prices-inner-btn-arrow"]),onClick:o[1]||(o[1]=c=>t.value=!t.value)},Ue,2)])):u("",!0)])])])):u("",!0)}}},He={class:"serviceItem"},qe={__name:"ServicesItemPage",setup(s){const t=_(!1),r=D(),m=U(),d=Q(),o=A(()=>d.service);return H(async()=>{O.refresh(),document.body.classList.add("no-scroll"),t.value=!1;try{const l=await d.getService(r.params.id);l.success||m.push(l.status===404?"/404":"/error")}catch(l){console.error("Ошибка при получении услуги:",l),m.push("/error")}finally{t.value=!0,document.body.classList.remove("no-scroll")}}),j(()=>{t.value===!1&&document.body.classList.remove("no-scroll")}),(l,c)=>{const b=F("Preloader");return i(),a(h,null,[v(q,{name:"preloader"},{default:I(()=>[t.value?u("",!0):(i(),g(b,{key:0}))]),_:1}),e("div",He,[v(ge,{service:o.value},null,8,["service"]),v(Ae,{service:o.value},null,8,["service"]),v(E,{title:"кто проводит процедуру",showDescription:!1,list:o.value?o.value.who_performs_procedures:[]},null,8,["list"]),v(G)])],64)}}};export{qe as default};
