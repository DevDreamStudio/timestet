import{g as p,o as n,b as o,k as r,l as g,F as f,j as w,m as v,e as s,f as m,t as _,n as y,p as h,S as C,q as $,s as b,r as L,w as x,W as k,c as T,i as M,A as S,B as D,C as P,T as H,M as z,L as B}from"./index-c0c8fa2e.js";import{P as j}from"./ProMed-470ac910.js";const O={"data-aos":"fade-down",class:"main__discount-slider"},A={class:"main__discount-slider-slide-content"},V={key:0,class:"main__discount-slider-slide-content-img"},N=["src"],I=s("div",{class:"swiper-lazy-preloader"},null,-1),F={class:"main__discount-slider-slide-content-wrapper"},q={class:"main__discount-slider-slide-content-wrapper-text"},E=["innerHTML"],U={class:"main__discount-slider-slide-content-wrapper-text-subtitle"},W={class:"main__discount-slider-slide-content-wrapper-text-offer"},G=["innerHTML"],J={class:"main__discount-slider-slide-content-wrapper-date"},K={__name:"DiscountSlider",props:{discountsContent:{type:Object}},setup(a){const c=p([b]);let l=p({breakpoints:{360:{slidesPerView:"auto",spaceBetween:16},1330:{slidesPerView:"auto",spaceBetween:24}}});const i=d=>{const t=/(\d+%)/g;return d.replace(t,'<span class="main__discount-slider-slide-content-wrapper-text-title-digit">$1</span>')};return(d,t)=>(n(),o("div",O,[r(h($),{loop:!!(a.discountsContent&&a.discountsContent.length>=4),centeredSlides:!!(a.discountsContent&&a.discountsContent.length<=2),autoplay:{delay:2e3,disableOnInteraction:!0},speed:1e3,breakpoints:h(l).breakpoints,modules:c.value,class:"main__discount-slider",lazy:!0,lazyPreloadPrevNext:1,preloadImages:"false"},{default:g(()=>[(n(!0),o(f,null,w(a.discountsContent,e=>(n(),v(h(C),{key:e.id,class:y(["main__discount-slider-slide",{noImage:!e.action_images.length}])},{default:g(()=>{var u;return[s("div",A,[e.action_images.length?(n(),o("div",V,[s("img",{src:(u=e==null?void 0:e.action_images[0])==null?void 0:u.image,loading:"lazy",alt:"картинка в акции"},null,8,N),I])):m("",!0),s("div",F,[s("div",q,[s("h2",{class:"main__discount-slider-slide-content-wrapper-text-title",innerHTML:i(e.title)},null,8,E),s("p",U,_(e.short_desc),1),s("span",W,_(e.special_offer?"Акция":"Спецпредложение"),1),s("div",{class:"main__discount-slider-slide-content-wrapper-text-rules",innerHTML:e.desc},null,8,G)]),s("p",J," до "+_(new Date(e.expires_in).toLocaleDateString()),1)])])]}),_:2},1032,["class"]))),128))]),_:1},8,["loop","centeredSlides","breakpoints","modules"])]))}},Q={key:0,"data-aos":"fade-down",class:"main__discount-cards"},R={class:"main__discount-cards-wrapper"},X={key:0,class:"main__discount-cards-wrapper-card-img"},Y={alt:"картинка в акции"},Z={class:"main__discount-cards-wrapper-card-content"},ss={class:"main__discount-cards-wrapper-card-content-inner"},es=["innerHTML"],ts={class:"main__discount-cards-wrapper-card-content-caption"},ns={class:"main__discount-cards-wrapper-card-content-offer"},as=s("pre",null,null,-1),os=["innerHTML"],cs={class:"main__discount-cards-wrapper-card-content-date"},is={__name:"DiscountCards",props:{discountsContent:{typeof:Object}},setup(a){const c=l=>{const i=/(\d+%)/g;return l.replace(i,'<span class="main__discount-cards-wrapper-card-content-title-digit">$1</span>')};return(l,i)=>{const d=L("lazy");return a.discountsContent?(n(),o("div",Q,[s("div",R,[(n(!0),o(f,null,w(a.discountsContent,t=>{var e;return n(),o("div",{key:t.id,class:"main__discount-cards-wrapper-card"},[t.action_images.length?(n(),o("div",X,[x(s("img",Y,null,512),[[d,(e=t==null?void 0:t.action_images[0])==null?void 0:e.image]])])):m("",!0),s("div",Z,[s("div",ss,[s("h3",{innerHTML:c(t.title),class:"main__discount-cards-wrapper-card-content-title"},null,8,es),s("p",ts,_(t.short_desc),1),s("span",ns,_(t.special_offer?"Акция":"Спецпредложение"),1),as,s("div",{innerHTML:t.desc,class:"main__discount-cards-wrapper-card-content-rules"},null,8,os)]),s("span",cs," до "+_(new Date(t.expires_in).toLocaleDateString()),1)])])}),128))])])):m("",!0)}}},ds="/timestet/assets/discount-beat-1-5a2f8e13.jpeg",rs="/timestet/assets/discount-beat-2-c32b8d2e.jpg",ls={class:"main__discount"},_s=s("h1",{"data-aos":"fade-down",class:"main__discount-title"},"акции и скидки",-1),ms={__name:"DiscountPage",setup(a){const c=p(!1),l=p({desc:"«Наши акции – это уникальные предложения, объединяющие лучшие методы и средства для вашего совершенства. Мы стремимся сделать красоту доступной для всех, даря вам неповторимые моменты радости и гармонии».",reverse:!1,img1:ds,img2:rs}),i=k(),d=T(()=>i.actionList);return M(async()=>{S.refresh(),document.body.classList.add("no-scroll");try{await i.getActions()}finally{c.value=!0,document.body.classList.remove("no-scroll")}}),D(()=>{c.value===!1&&document.body.classList.remove("no-scroll")}),(t,e)=>{const u=P("Preloader");return n(),o(f,null,[r(H,{name:"preloader"},{default:g(()=>[c.value?m("",!0):(n(),v(u,{key:0}))]),_:1}),s("div",ls,[_s,r(K,{discountsContent:d.value},null,8,["discountsContent"]),r(is,{discountsContent:d.value},null,8,["discountsContent"]),r(j),r(z,{beat:l.value},null,8,["beat"]),r(B)])],64)}}};export{ms as default};
